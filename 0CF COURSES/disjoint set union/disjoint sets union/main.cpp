#include <bits/stdc++.h>using namespace std;vector<int> d;int g(int n) {    return d[n] = (n == d[n] ? n : g(d[n]));}void j(int a, int b) {    a = g(a); b = g(b);    if(a != b) {        d[b] = a;    }}int main() {    ios::sync_with_stdio(false); cin.tie(nullptr); cout.tie(nullptr);    int n, m;    cin >> n >> m;    d.resize(n);    for (int i = 0; i < n; ++i) d[i] = i;    while(m--) {        int u, v;        string op; cin >> op >> u >> v;        u--; v--;        if(op[0] == 'g') {            cout << (g(u) == g(v) ? "YES" : "NO") << "\n";        } else {            j(u, v);        }    }}